((function(){var a,b,c,d,e,f,g,h,i,j,k,l,m;typeof jQuery!="undefined"&&jQuery!==null&&(jQuery.fn.render=function(a,c){return b.render(this.get(),a,c),this}),this.Transparency=b={},typeof module!="undefined"&&module!==null&&(module.exports=b),b.render=function(a,b,c){var d,e,j,k,l,m,n,o,p,q,r,s,t,u;if(!a)return;b||(b=[]),c||(c={}),a=a.length!=null&&a[0]?function(){var b,c,e;e=[];for(b=0,c=a.length;b<c;b++)d=a[b],e.push(d);return e}():[a],b instanceof Array||(b=[b]);for(p=0,r=a.length;p<r;p++){e=a[p],o=e.nextSibling,n=e.parentNode,n!=null&&n.removeChild(e),f(e,b);for(k=0,s=b.length;k<s;k++){m=b[k],l=e.transparency.instances[k],u=l.elements;for(q=0,t=u.length;q<t;q++)j=u[q],j.transparency.model=m;i(l,m),h(l,m,c,k),g(l,m,c)}o?n!=null&&n.insertBefore(e,o):n!=null&&n.appendChild(e)}return a},f=function(a,b){var c,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;a.transparency||(a.transparency={}),(j=a.transparency).template||(j.template=function(){var b;b=[];while(a.firstChild)b.push(a.removeChild(a.firstChild));return b}()),(k=a.transparency).templateCache||(k.templateCache=[]),(l=a.transparency).instances||(l.instances=[]);while(b.length>a.transparency.instances.length){f=a.transparency.templateCache.pop()||{queryCache:{},template:h=function(){var b,c,d,e;d=a.transparency.template,e=[];for(b=0,c=d.length;b<c;b++)g=d[b],e.push(g.cloneNode(!0));return e}(),elements:d(h)},s=f.template;for(m=0,p=s.length;m<p;m++)g=s[m],a.appendChild(g);a.transparency.instances.push(f)}while(b.length<a.transparency.instances.length){a.transparency.templateCache.push(f=a.transparency.instances.pop()),t=f.template;for(n=0,q=t.length;n<q;n++)g=t[n],g.parentNode.removeChild(g)}u=a.transparency.instances,v=[];for(o=0,r=u.length;o<r;o++)f=u[o],v.push(function(){var a,b,d,g;d=f.elements,g=[];for(a=0,b=d.length;a<b;a++)e=d[a],g.push(function(){var a,b;a=e.transparency.attributes,b=[];for(c in a)i=a[c],b.push(e.setAttribute(c,i));return b}());return g}());return v},i=function(a,b){var c,d,f,g;if(typeof b=="object"){g=[];for(d in b)f=b[d],typeof f!="object"&&typeof f!="function"&&g.push(function(){var b,g,h,i;h=e(a,d),i=[];for(b=0,g=h.length;b<g;b++)c=h[b],i.push(l(c,f));return i}());return g}c=e(a,"listElement")[0]||a.elements[0];if(c)return l(c,b)},h=function(a,b,c,d){var f,g,h,i,j,m,n;n=[];for(j in c)h=c[j],typeof h=="function"&&n.push(function(){var c,n,o,p;o=e(a,j),p=[];for(c=0,n=o.length;c<n;c++)i=o[c],g=h.call(b,i,d),typeof g=="string"&&(g={text:g}),l(i,g.text),k(i,g.html),p.push(function(){var a,b,c;c=[];for(f in g){m=g[f];if(f==="html"||f==="text")continue;(a=i.transparency).attributes||(a.attributes={}),(b=i.transparency.attributes)[f]||(b[f]=i.getAttribute(f)),c.push(i.setAttribute(f,m))}return c}());return p}());return n},g=function(a,c,d){var f,g,h,i;i=[];for(g in c)h=c[g],typeof h=="object"&&i.push(function(){var c,i,j,k;j=e(a,g),k=[];for(c=0,i=j.length;c<i;c++)f=j[c],k.push(b.render(f,h,d[g]));return k}());return i},j=function(b){return function(c,d){var e,f,g,h,i,j,k;if(!c||d==null||c.transparency.content===d)return;c.transparency.content=d,(g=c.transparency).children||(g.children=function(){var b,d,e,g;e=c.childNodes,g=[];for(b=0,d=e.length;b<d;b++)f=e[b],f.nodeType===a&&g.push(f);return g}());while(c.firstChild)c.removeChild(c.firstChild);b(c,d),j=c.transparency.children,k=[];for(h=0,i=j.length;h<i;h++)e=j[h],k.push(c.appendChild(e));return k}},k=j(function(a,b){return a.innerHTML=b}),l=j(function(a,b){return a.nodeName.toLowerCase()==="input"?a.setAttribute("value",b):a.appendChild(a.ownerDocument.createTextNode(b))}),e=function(a,b){var d,e;return(e=a.queryCache)[b]||(e[b]=function(){var e,f,g,h;g=a.elements,h=[];for(e=0,f=g.length;e<f;e++)d=g[e],c(d,b)&&h.push(d);return h}())},d=function(b){var c,d,e,f,g,h,i,j;e=[];for(f=0,h=b.length;f<h;f++){d=b[f];if(d.nodeType!==a)continue;d.transparency||(d.transparency={}),e.push(d),j=d.getElementsByTagName("*");for(g=0,i=j.length;g<i;g++)c=j[g],c.transparency||(c.transparency={}),e.push(c)}return e},c=function(a,b){return a.id===b||a.className.split(" ").indexOf(b)>-1||a.name===b||a.nodeName.toLowerCase()===b.toLowerCase()||a.getAttribute("data-bind")===b},a=1,(m=Array.prototype).indexOf==null&&(m.indexOf=function(a){var b,c,d,e;c=-1;for(b=0,e=this.length;b<e;b++){d=this[b];if(d!==a)continue;c=b;break}return c})})).call(this);